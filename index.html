<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>@</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Onest:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
:root{
  --accent:#ff2b2b;
  --glass:rgba(0,0,0,.42);
  --border:rgba(255,255,255,.18);
}

*{margin:0;padding:0;box-sizing:border-box;font-family:'Onest',sans-serif;}
body{
  height:100vh;
  overflow:hidden;
  background:black;
  color:white;
  perspective:1200px;
}

/* VIDEO BG */
video.bg{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  filter:brightness(.45);
  z-index:-2;
}

/* OVERLAY */
.overlay{
  position:fixed;
  inset:0;
  background:radial-gradient(circle at top, rgba(255,0,0,.12), transparent 60%);
  z-index:-1;
}

/* ENTER SCREEN */
.enter{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  backdrop-filter:blur(25px);
  cursor:pointer;
  z-index:10;
}
.enter span{
  font-size:32px;
  font-weight:700;
  opacity:.8;
  animation:pulse 1.4s infinite;
}
@keyframes pulse{0%{opacity:.3}50%{opacity:1}100%{opacity:.3}}

/* CARD */
.card{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:600px;
  padding:28px;
  border-radius:26px;
  background:var(--glass);
  border:1px solid var(--border);
  backdrop-filter:blur(45px);
  box-shadow:0 0 90px var(--accent);
  opacity:0;
  transition:opacity .6s, box-shadow .3s, transform .2s;
  transform-style:preserve-3d;
}
.card.show{ opacity:1; }

/* PLAYER */
.player-container{
  display:flex;
  gap:20px;
  align-items:center;
  position:relative;
}

.cover{
  width:150px;
  height:150px;
  border-radius:14px;
  border:2px solid var(--accent);
  box-shadow:0 0 35px var(--accent);
  object-fit:cover;
}

.track-info{
  flex:1;
  display:flex;
  flex-direction:column;
  gap:6px;
}

.name{
  font-size:28px;
  font-weight:800;
  text-shadow:0 0 15px var(--accent);
}

.bio{
  font-size:14px;
  opacity:.7;
}

.track{
  font-size:16px;
  opacity:.8;
}

/* CONTROLS */
.controls{
  display:flex;
  align-items:center;
  gap:14px;
  margin-top:12px;
}

.controls button{
  background:rgba(255,255,255,.08);
  border:1px solid var(--border);
  border-radius:14px;
  padding:10px 16px;
  font-size:18px;
  color:white;
  cursor:pointer;
  backdrop-filter:blur(10px);
  transition:.3s;
}
.controls button:hover{
  box-shadow:0 0 20px var(--accent);
  transform:translateY(-2px);
}
.controls input[type=range]{flex:1;}

/* VOLUME */
.volume-box{
  position:absolute;
  top:0;
  right:0;
  display:flex;
  align-items:center;
  gap:10px;
  opacity:.4;
  transition:.25s;
}
.volume-box:hover{opacity:1}
.volume-box svg{
  width:22px; height:22px;
  fill:white;
  cursor:pointer;
  transition:.25s;
}
.volume-box input{
  width:90px;
  display:none;
}
.volume-box:hover input{display:block}

/* MINI COLOR CIRCLE */
.color-picker-circle{
  position:fixed;
  bottom:20px;
  right:20px;
  width:40px;
  height:40px;
  border-radius:50%;
  background:var(--accent);
  border:2px solid rgba(255,255,255,.3);
  cursor:pointer;
  box-shadow:0 0 15px var(--accent);
  transition:all .3s ease;
  z-index:50;
}
.color-picker-circle:hover{
  transform:scale(1.1);
  box-shadow:0 0 25px var(--accent);
}

/* CUSTOM COLOR PICKER */
.color-picker-popup{
  position:fixed;
  bottom:70px;
  right:20px;
  padding:12px;
  border-radius:20px;
  background:rgba(0,0,0,0.6);
  backdrop-filter:blur(15px);
  box-shadow:0 0 20px rgba(255,255,255,.2);
  display:none;
  z-index:55;
  transition:all .3s ease;
}
.color-slider{
  width:180px;
  height:24px;
  border-radius:12px;
  background: linear-gradient(to right, red, yellow, lime, cyan, blue, magenta, red);
  cursor:pointer;
  margin-bottom:8px;
  position:relative;
}
.color-slider .thumb{
  position:absolute;
  top:-4px;
  width:32px;
  height:32px;
  border-radius:50%;
  border:2px solid #fff;
  background: var(--accent);
  transform:translateX(-16px);
}
</style>
</head>
<body>

<video class="bg" autoplay loop muted playsinline>
  <source src="swag.mp4" type="video/mp4">
</video>

<div class="overlay"></div>

<div class="enter" id="enter"><span>click to enter…</span></div>

<div class="card hover-tilt" id="card">

  <div class="player-container">
    <img src="cover.jpg" class="cover">

    <div class="track-info">
      <div class="name">@slayka</div>
      <div class="bio" id="bio"></div>
      <div class="track">swag.mp3</div>

      <div class="controls">
        <button id="play">▶</button>
        <input type="range" id="progress" value="0">
      </div>
    </div>

    <div class="volume-box">
      <svg id="mute" viewBox="0 0 24 24">
        <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1-3.29-2.5-4.03v8.05c1.5-.73 2.5-2.25 2.5-4.02z"/>
      </svg>
      <input type="range" id="volume" min="0" max="1" step="0.01" value="0.7">
    </div>

  </div>

  <div class="footer">© slayka</div>
</div>

<!-- MINI COLOR PICKER -->
<div class="color-picker-circle" id="colorCircle"></div>

<!-- CUSTOM COLOR PICKER -->
<div class="color-picker-popup" id="colorPopup">
  <div class="color-slider" id="colorSlider">
    <div class="thumb" id="thumb"></div>
  </div>
</div>

<script>
// AUDIO
const enter=document.getElementById('enter')
const card=document.getElementById('card')
const audio=new Audio('swag.mp3')
const play=document.getElementById('play')
const progress=document.getElementById('progress')
const volume=document.getElementById('volume')
const mute=document.getElementById('mute')

enter.onclick=()=>{
  enter.style.display='none'
  card.classList.add('show')
  audio.volume=volume.value
  audio.play()
  play.innerText='⏸'
}

// PLAY / PAUSE
play.onclick=()=>{audio.paused?audio.play():audio.pause();play.innerText=audio.paused?'▶':'⏸'}

// PROGRESS
audio.ontimeupdate=()=>{if(audio.duration)progress.value=audio.currentTime/audio.duration*100}
progress.oninput=()=>{audio.currentTime=progress.value/100*audio.duration}

// VOLUME
volume.oninput=()=>{audio.volume=volume.value;}

// MUTE SVG
mute.onclick=()=>{if(audio.volume>0){audio.volume=0;volume.value=0;}else{audio.volume=.7;volume.value=.7;}}

// TILT only on hover
let mouseX=0, mouseY=0, hovering=false
card.addEventListener('mouseenter', ()=>hovering=true)
card.addEventListener('mouseleave', ()=>hovering=false)

document.addEventListener('mousemove', e=>{
  if(hovering){
    const rect=card.getBoundingClientRect()
    mouseX=(e.clientX-rect.left-rect.width/2)/20
    mouseY=(e.clientY-rect.top-rect.height/2)/20
  } else {
    mouseX*=0.9
    mouseY*=0.9
  }
})
function animateTilt(){
  card.style.transform=`translate(-50%,-50%) rotateY(${mouseX}deg) rotateX(${-mouseY}deg)`
  requestAnimationFrame(animateTilt)
}
animateTilt()

// TITLE TYPING
const base='@',titleText='slayka'
let ti=0,del=false
setInterval(()=>{
  if(!del){ti++;document.title=base+titleText.slice(0,ti);if(ti===titleText.length)setTimeout(()=>del=true,1200)}
  else{ti--;document.title=base+titleText.slice(0,ti);if(ti===0)del=false}
},180)

// BIO TYPING
const bioEl=document.getElementById('bio')
const bioText='fuck insomnia'
let bioIndex=0,bioDel=false
setInterval(()=>{
  if(!bioDel){bioIndex++;bioEl.textContent=bioText.slice(0,bioIndex);if(bioIndex===bioText.length)setTimeout(()=>bioDel=true,2000)}
  else{bioIndex--;bioEl.textContent=bioText.slice(0,bioIndex);if(bioIndex===0)bioDel=false}
},180)

// COLOR PICKER always visible after click
const colorCircle=document.getElementById('colorCircle')
const colorPopup=document.getElementById('colorPopup')
let pickerOpen=false
colorCircle.addEventListener('click', ()=>{
  pickerOpen=!pickerOpen
  colorPopup.style.display=pickerOpen?'block':'none'
})

// CUSTOM COLOR PICKER
const slider=document.getElementById('colorSlider')
const thumb=document.getElementById('thumb')

slider.addEventListener('mousedown', e=>{
  function move(e){
    let x=e.clientX-slider.getBoundingClientRect().left
    x=Math.max(0, Math.min(slider.offsetWidth, x))
    thumb.style.left=x+'px'
    const percent=x/slider.offsetWidth
    const hue=Math.floor(percent*360)
    const color=`hsl(${hue},100%,50%)`
    document.documentElement.style.setProperty('--accent',color)
    card.style.boxShadow=`0 0 90px ${color}`
    colorCircle.style.background=color
  }
  move(e)
  window.addEventListener('mousemove', move)
  window.addEventListener('mouseup', ()=>{
    window.removeEventListener('mousemove', move)
  }, {once:true})
})
</script>
</body>
</html>
